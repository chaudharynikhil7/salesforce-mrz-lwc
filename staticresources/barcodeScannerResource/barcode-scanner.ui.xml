<template>
  <div class="barcode-scanner-container" style="position: relative; width: 100%;height: 100%;">
    <div class="scanner-view-container" style="width: 100%;height: 100%;position: relative;">
      <div class="features-group" style="position:absolute;top:20px;left:20px; display:flex;gap:40px;align-items: center;z-index:2">
        <label for="upload-image" class="btn-upload-image" style="width: 25px; height: 25px;display:none;cursor: pointer;">
          <input type="file" multiple="true" accept=".jpg,.jpeg,.ico,.gif,.svg,.webp,.png,.bmp" style="display: none;" id="upload-image"></input>
          <svg id="upload-image" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="26" height="26" viewBox="0 0 26 26">
            <g id="Group_2679" data-name="Group 2679">
              <path id="Path_8287" data-name="Path 8287" d="M10.348,8.3a3.087,3.087,0,1,0-3.087,3.087A3.091,3.091,0,0,0,10.348,8.3m-4.174,0A1.087,1.087,0,1,1,7.261,9.391,1.089,1.089,0,0,1,6.174,8.3" fill="#fff" />
              <path id="Path_8288" data-name="Path 8288" d="M8.434,16.031a1,1,0,0,0,1.7,0l2.348-3.756.242.386a1,1,0,0,0,1.7-1.06l-.648-1.036a1.576,1.576,0,0,0-2.581,0l-1.9,3.048-.275-.439a1.575,1.575,0,0,0-2.581,0L3.282,18.206a1,1,0,0,0,.848,1.53H9.348a1,1,0,1,0,0-2H5.934l1.784-2.852Z" fill="#fff" />
              <path id="Path_8289" data-name="Path 8289" d="M11.435,24,2,23.957,2.044,2l13.9.013,3.881,3.9v4.479a1,1,0,0,0,2,0V5.912a2.03,2.03,0,0,0-.6-1.445L17.36.6A2.026,2.026,0,0,0,15.915,0H2.044A2.046,2.046,0,0,0,0,2.043V23.957A2.046,2.046,0,0,0,2.044,26h9.391a1,1,0,0,0,0-2" fill="#fff" />
              <path id="Path_8290" data-name="Path 8290" d="M18.739,11.479A7.26,7.26,0,1,0,26,18.739a7.269,7.269,0,0,0-7.261-7.26m0,12.521A5.26,5.26,0,1,1,24,18.739,5.267,5.267,0,0,1,18.739,24" fill="#fff" />
              <path id="Path_8291" data-name="Path 8291" d="M21.87,17.739H19.74v-2.13a1,1,0,1,0-2,0v2.13H15.609a1,1,0,0,0,0,2H17.74v2.13a1,1,0,0,0,2,0v-2.13h2.13a1,1,0,0,0,0-2" fill="#fff" />
            </g>
          </svg>
        </label>
        <svg t="1750226515166" class="icon btn-flash-not-support" style="display:none;cursor: not-allowed;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1476" id="mx_n_1750226515166" width="26.96" height="28"><path d="M835.191816 695.808947h-40.216176L611.078034 1023.753585h43.506591l56.302647-104.196457h114.067699l13.161658 104.196457h39.119371l-42.409785-327.944638z m-104.562058 188.650427c31.441738-57.765053 50.818623-93.228409 57.399452-106.390066s12.796056-25.957714 18.645681-39.119371c0.731203 26.323315 2.924813 52.281029 6.580829 78.604344l8.043235 67.270695h-90.669197z" p-id="1477" fill="#707070"></path><path d="M833.363808 448.296663a22.301698 22.301698 0 0 0-14.989665-5.484024h-252.996309a22.082337 22.082337 0 0 1-21.204893-28.882527L678.714331 28.586024a21.278013 21.278013 0 0 0-13.892861-27.42012 23.032901 23.032901 0 0 0-24.129706 6.215227L151.882422 543.718681c-8.043235 9.14004-7.312032 22.667299 2.19361 30.710535 4.021618 3.290414 9.14004 5.484024 14.624064 5.484024h245.684276c12.430454 0 22.301698 9.505642 22.301698 21.570494 0 2.19361 0 4.387219-1.096805 6.215227L316.768744 995.967863c-3.656016 11.33365 3.290414 23.764104 14.989666 27.054518 8.408837 2.559211 17.548877 0 23.398503-6.580829l480.034903-537.434355c8.043235-9.14004 7.312032-22.667299-2.193609-30.710534z" p-id="1478" fill="#707070"></path></svg>
        <svg t="1750144490614" class="icon btn-flash-auto" style="display:none;cursor: pointer;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1672" id="mx_n_1750144490615" width="26.96" height="28"><path d="M835.191816 695.808947h-40.216176L611.078034 1023.753585h43.506591l56.302647-104.196457h114.067699l13.161658 104.196457h39.119371l-42.409785-327.944638z m-104.562058 188.650427c31.441738-57.765053 50.818623-93.228409 57.399452-106.390066s12.796056-25.957714 18.645681-39.119371c0.731203 26.323315 2.924813 52.281029 6.580829 78.604344l8.043235 67.270695h-90.669197z" p-id="1673" fill="#ffffff"></path><path d="M833.363808 448.296663a22.301698 22.301698 0 0 0-14.989665-5.484024h-252.996309a22.082337 22.082337 0 0 1-21.204893-28.882527L678.714331 28.586024a21.278013 21.278013 0 0 0-13.892861-27.42012 23.032901 23.032901 0 0 0-24.129706 6.215227L151.882422 543.718681c-8.043235 9.14004-7.312032 22.667299 2.19361 30.710535 4.021618 3.290414 9.14004 5.484024 14.624064 5.484024h245.684276c12.430454 0 22.301698 9.505642 22.301698 21.570494 0 2.19361 0 4.387219-1.096805 6.215227L316.768744 995.967863c-3.656016 11.33365 3.290414 23.764104 14.989666 27.054518 8.408837 2.559211 17.548877 0 23.398503-6.580829l480.034903-537.434355c8.043235-9.14004 7.312032-22.667299-2.193609-30.710534z" p-id="1674" fill="#ffffff"></path></svg>
        <svg t="1750144510458" class="icon btn-flash-open" style="display:none;cursor: pointer;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1841" width="26.96" height="28"><path d="M836.654223 443.17824h-252.996309a22.082337 22.082337 0 0 1-21.204893-28.882526L696.994411 28.586024a21.278013 21.278013 0 0 0-13.892861-27.42012 23.032901 23.032901 0 0 0-24.129706 6.215227L170.162502 543.718681c-8.043235 9.14004-7.312032 22.667299 2.19361 30.710535 4.021618 3.290414 9.14004 5.484024 14.624064 5.484024h245.684276c12.430454 0 22.301698 9.505642 22.301698 21.570494 0 2.19361 0 4.387219-1.096805 6.215227L335.048825 995.967863c-3.656016 11.33365 3.290414 23.764104 14.989665 27.054518 8.408837 2.559211 17.548877 0 23.398503-6.580829l480.034903-537.434355c8.043235-9.14004 7.312032-22.667299-2.193609-30.710534a22.301698 22.301698 0 0 0-14.989666-5.484024z" p-id="1842" fill="#ffffff"></path></svg>
        <svg t="1750144024203" class="icon btn-flash-close" style="display:none;cursor: pointer;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1146" width="26.96" height="28"><path d="M43.875153 33.637617L0 76.050265l979.878415 944.412666 43.875153-42.412647L43.875153 33.637617zM157.219298 543.320644c-8.043778 9.140657-6.946899 23.034455 2.559384 31.078233 4.021889 3.290636 9.140657 5.118768 14.259425 5.118768h247.163361c12.79692 0.731253 23.034455 11.334415 22.303203 23.765708 0 1.462505 0 2.92501-0.731253 4.387515L323.213626 995.965971c-3.656263 11.334415 3.290636 23.765708 14.990678 27.056344 8.409404 2.559384 17.915687 0 23.765708-6.581273l242.044593-269.466564-336.376172-324.310505-110.784761 120.656671zM844.596694 478.604793c8.043778-9.140657 7.312525-22.668829-2.193758-30.712607a24.314147 24.314147 0 0 0-14.990677-5.484394h-254.475887c-12.79692-0.731253-23.034455-11.334415-22.303203-23.765708 0-1.828131 0.365626-3.290636 0.731253-5.118768L687.377396 28.153223c3.656263-11.700041-3.290636-23.765708-15.356304-27.056344-8.043778-2.193758-16.818809 0-22.668829 5.85002l-252.282129 274.950958 334.913667 322.482374 112.978519-125.775438z" p-id="1147" fill="#ffffff"></path></svg>
        <div class="camera-control" style="display:none;position:relative;font-family:'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Microsoft YaHei', 'PingFang SC', 'Hiragino Sans GB', sans-serif;">
          <svg t="1750145221648" class="icon btn-camera-switch-control" style="cursor: pointer;" viewBox="0 0 1260 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2090" width="32" height="26"><path d="M1132.266052 163.383314h-185.036525c-9.842368 0-19.291042-5.118032-25.196463-13.385621l-22.834294-32.676663C845.656286 42.519031 816.522876 0 762.193003 0h-264.562861c-53.936178 0-83.069589 42.519031-135.430988 115.746251l-24.409073 34.645137c-5.905421 7.873895-14.9604 12.991926-24.802768 13.385621H127.163399C21.65321 163.777009 0 226.374471 0 279.916955v619.281815c0 82.282199 46.455978 124.80123 130.312957 124.80123h998.803537c83.069589 0 130.706651-42.519031 130.706651-124.80123V279.52326c0-53.148789-22.4406-116.139946-127.557093-116.139946zM1181.084198 870.459054c0 51.180315-25.590158 75.195694-81.888504 75.195694H159.446367c-55.904652 1.574779-83.463283-17.716263-83.463284-68.896578V307.475586c0-35.038831 9.842368-66.928105 77.951558-66.928104h177.162629c22.4406 0 43.700115-18.897347 57.085737-37.401l23.227989-32.282968c47.243368-67.715494 65.74702-92.518262 94.093041-92.518262h249.208766c28.739715 0 46.849673 24.015379 95.66782 92.518262l22.046905 30.708189c13.385621 18.109958 34.251442 40.550557 56.692041 40.550558h174.013072c70.077662 0 77.951557 31.889273 77.951557 66.928104V870.065359z" p-id="2091" fill="#ffffff"></path><path d="M897.230296 483.850827a27.952326 27.952326 0 0 0-37.401-3.936948l-98.817378 70.471357a29.9208 29.9208 0 0 0-7.086505 40.944253c9.054979 13.385621 27.164937 16.535179 40.156863 7.4802l44.8812-31.889274c-1.574779 96.848904-66.928105 184.249135-161.021146 207.477124-70.077662 16.928874-142.123799-3.936947-193.304114-55.904652-14.9604-15.354095-39.369473-14.9604-53.936178 0-14.9604 15.354095-14.566705 40.550557 0 55.510958 53.936178 54.723568 125.194925 84.250673 198.422145 84.250672 22.046905 0 44.09381-2.755863 66.140715-7.873894 121.651672-29.9208 207.870819-138.186851 218.894272-261.413303l23.227989 25.590158c5.511726 6.299116 13.385621 9.448674 20.865821 9.448673 7.086505 0 14.17301-2.755863 19.684736-7.873894 11.810842-11.023453 12.204537-29.9208 1.574779-41.731642l-82.282199-90.943483zM411.017301 668.493656l88.581315-66.53441a30.708189 30.708189 0 0 0 6.299116-41.337946 28.149173 28.149173 0 0 0-40.156863-6.299116l-49.605536 37.400999c-2.755863-45.274894 7.873895-91.337178 30.708189-130.312956 29.9208-50.786621 79.132641-87.793925 135.430988-101.179546a202.752787 202.752787 0 0 1 202.752787 66.140715c14.17301 16.535179 38.188389 17.716263 53.936179 3.543252s17.322568-39.369473 3.149557-55.510957c-69.290273-80.70742-175.981546-115.746251-277.948481-90.549789-75.983083 18.503652-142.517493 68.502884-183.068051 137.005767a309.995233 309.995233 0 0 0-42.125336 150.391388l-28.346021-36.219915a28.42476 28.42476 0 0 0-40.550557-4.330642c-12.204537 10.236063-14.17301 28.739715-4.330642 41.337947l84.644367 107.872357c5.511726 7.086505 14.17301 11.023453 22.4406 11.023452 5.905421 0 11.810842-1.968474 16.928873-5.905421l12.598232-9.448674c3.149558-1.968474 5.905421-3.936947 8.267589-6.299115z" p-id="2092" fill="#ffffff"></path></svg>      
          <div class="camera-list" style="position:absolute;color:#ffffff;width: 220px;max-height:249px;overflow-y:auto;display: none;"></div>
        </div>
      </div>
      <svg t="1756970971971" class="resume" style="position:absolute;top:20px;left:20px;z-index:2;display:none;cursor: pointer;" viewBox="0 0 1445 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1469" width="25" height="25"><path d="M1350.649885 471.551065H183.240025l340.356908-340.294583A54.160438 54.160438 0 0 0 447.061814 54.721363L14.526209 487.630919a56.092514 56.092514 0 0 0-11.779428 17.637979 54.659038 54.659038 0 0 0 0 41.321485 56.092514 56.092514 0 0 0 11.779428 17.63798l432.535605 432.660255a54.160438 54.160438 0 1 0 76.597444-76.597443L183.240025 579.684967h1167.40986a54.098113 54.098113 0 1 0 0-108.133902" p-id="1470" fill="#ffffff"></path></svg>
      <svg class="btn-close" style="position: absolute;top:20px;right:20px;z-index:2;display:none;cursor: pointer;" id="closed" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="26" height="26" viewBox="0 0 24 24">
        <g id="Group_2681" data-name="Group 2681">
          <path id="Path_8292" data-name="Path 8292" d="M12,0h0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0m0,1.914A10.086,10.086,0,1,1,1.914,12,10.1,10.1,0,0,1,12,1.914" fill="#fff" />
          <path id="Path_8293" data-name="Path 8293" d="M7.416,16.578a.985.985,0,0,0,1.351,0L12,13.35l3.21,3.208a.958.958,0,0,0,1.665-.6.988.988,0,0,0-.3-.738L13.351,12l3.226-3.226a.959.959,0,0,0,0-1.353l0,0a.959.959,0,0,0-1.353,0L12,10.647,8.755,7.4A.957.957,0,0,0,7.42,8.774L10.646,12,7.421,15.227a.956.956,0,0,0-.005,1.351" fill="#fff" />
        </g>
      </svg>
      <div class="no-camera-view" style="width: 100%;height: 100%;background-color: #202020;position: absolute;top: 0;left: 0;z-index: 1;display: none;flex-direction: column;align-items: center;justify-content: center;font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Microsoft YaHei', 'PingFang SC', 'Hiragino Sans GB', sans-serif;">
        <div class="no-camera-title" style="width: 50%;color: #AAAAAA;font-size: 16px;text-align: center;margin-bottom: 10px;">No camera detected</div>
        <div class="no-camera-hint" style="width: 50%;color: #888888;font-size: 14px;text-align: center;line-height: 20px;">Please grant camera access and reload the page, or upload an image for decoding.</div>
      </div>
    </div>
    <div class="result-view-container" style="width: 100%;height: 100%;background-color: #323234;display: none;position: relative;">
      <div class="result-view-header" style="width: 100%; height: 30px;background-color: #2E2E2E;color: #AAAAAA;line-height: 30px;font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Microsoft YaHei', 'PingFang SC', 'Hiragino Sans GB', sans-serif"><span style="margin-left: 20px;">Results:</span></div>
      <div class="unique-result-list" style="width: 100%;height: calc(100% - 80px);overflow-x: hidden;overflow-y:auto;position: relative;">
        <svg class="no-result-svg" id="Layer_2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 236.65 39" style="width:60%;position:absolute; top:50%;left:50%;transform: translate(-50%, -50%);">
          <defs>
            <style>
              .cls-1 {
                fill: #555;
                stroke-width: 0px;
              }
            </style>
          </defs>
          <g id="Layer_1-2">
            <path class="cls-1" d="m67.61,23.73h-2.96v11.42h1.33v-4.49h1.34c1.47,0,2.6-.31,3.39-.93s1.18-1.51,1.18-2.67c0-2.22-1.43-3.33-4.28-3.33Zm2.12,5.22c-.53.38-1.38.57-2.55.57h-1.2v-4.64h1.48c1.05,0,1.82.18,2.31.55.49.37.74.93.74,1.69,0,.84-.26,1.45-.79,1.83Z" />
          </g>
        </svg>
        <div class="main-list" style="width: 100%;height: 100%;"></div>
      </div>
      <div class="toolbar-btns" style="width: 100%;height: 50px;display: flex;justify-content: space-between; align-items: center;background-color: #000000;">
        <div class="btn-clear" style="cursor: pointer;width: 30%;height: 70%;display: flex;justify-content: center;align-items: center;color: #FE8E14;font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Microsoft YaHei', 'PingFang SC', 'Hiragino Sans GB', sans-serif;font-size: 18px;">Clear</div>
        <div class="btn-done" style="cursor: pointer;width: 30%;height: 70%;display: flex;justify-content: center;align-items: center;color: #FE8E14;font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Microsoft YaHei', 'PingFang SC', 'Hiragino Sans GB', sans-serif;font-size: 18px;">Done</div>
      </div>
    </div>
  </div>
  <div class="result-item" style="width: 100%; height: 60px; border-bottom: 1px solid #232323; padding: 7px 0px 7px 20px; font-size: 14px; display: flex; font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Microsoft YaHei', 'PingFang SC', 'Hiragino Sans GB', sans-serif; position: relative;box-sizing: border-box;">
    <div class="decode-result" style="width: calc(100% - 80px); display: flex;justify-content: space-around;flex-direction: column;">
      <div class="format-string" style="color: rgb(144, 148, 149); overflow: hidden; white-space: nowrap; text-overflow: ellipsis;"></div>
      <div class="text-string" style="color: rgb(255, 255, 255); overflow: hidden; white-space: nowrap; text-overflow: ellipsis;"></div>
    </div>
    <div class="decode-count" style="width: 80px;position: relative;">
      <div class="result-count" style="position: absolute; top: 50%; right: 45px; transform: translateY(-50%);color: #6AC4BB;">x1</div>
      <div class="delete-icon" style="position: absolute; top: 50%;right:15px;transform: translateY(-50%);cursor: pointer">
        <svg id="delete" class="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16" style="vertical-align: middle;">
          <defs>
            <clipPath id="clip-path">
              <rect id="Rectangle_2735" data-name="Rectangle 2735" width="16" height="16" fill="#aaa" />
            </clipPath>
          </defs>
          <g id="Group_523" data-name="Group 523" clip-path="url(#clip-path)">
            <path id="Path_1447" data-name="Path 1447" d="M15.667,2.667H11.333V1a1,1,0,0,0-1-1H5.667a1,1,0,0,0-1,1V2.667H.333a.333.333,0,0,0,0,.667H1.7L2.876,14.507A1.663,1.663,0,0,0,4.533,16h6.933a1.663,1.663,0,0,0,1.657-1.493L14.3,3.333h1.367a.333.333,0,0,0,0-.667M5.333,1A.333.333,0,0,1,5.667.667h4.667A.333.333,0,0,1,10.667,1V2.667H5.333Zm7.127,13.438a1,1,0,0,1-.994.9H4.533a1,1,0,0,1-.995-.9L2.37,3.333H13.63Z" fill="#aaa" />
            <path id="Path_1448" data-name="Path 1448" d="M11.833,8.5a.333.333,0,0,0-.333.333v7a.333.333,0,1,0,.667,0v-7a.333.333,0,0,0-.333-.333" transform="translate(-3.833 -2.833)" fill="#aaa" />
            <path id="Path_1449" data-name="Path 1449" d="M15.833,8.817l-.333,7a.333.333,0,0,0,.317.349h.016a.334.334,0,0,0,.333-.317l.333-7a.333.333,0,1,0-.666-.032" transform="translate(-5.166 -2.833)" fill="#aaa" />
            <path id="Path_1450" data-name="Path 1450" d="M7.317,8.5A.334.334,0,0,0,7,8.849l.333,7a.333.333,0,0,0,.333.318h.017A.332.332,0,0,0,8,15.817l-.333-7A.333.333,0,0,0,7.317,8.5" transform="translate(-2.333 -2.833)" fill="#aaa" />
          </g>
        </svg>
      </div>
    </div>
  </div>
  <div class="loading-page" style="width: 100%;height: 100%;background-color: #202020;position: absolute;left: 0;top: 0;z-index: 10;color: gray;display: flex;justify-content: center;align-items: center;">
    <div class="loading-spinner" style="width:15px;height:15px;border: 3px solid #ccc;border-top-color: #FE8E14;border-radius: 50%;animation: spin 1s linear infinite;margin-right: 10px;"></div>
    <span style="font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Microsoft YaHei', 'PingFang SC', 'Hiragino Sans GB', sans-serif;">Loading...</span>
  </div>
  <style>
    @keyframes spin {
      from {
        transform: rotate(0deg);
      }

      to {
        transform: rotate(360deg);
      }
    }
  </style>
</template>
